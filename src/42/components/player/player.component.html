<div class="player player-{{player.number}}">
  <h2>{{ player.name }}
    <span class="turn" *ngIf="state.activePlayer === player"> * </span>
    <mat-icon class="info-icon" fontIcon="info" (click)="gameService.debug(player)"></mat-icon>
    <span class="loading-icon" *ngIf="player.isDeliberating || (player.index === 0 && state.activePlayer?.index === 0)"><img src="/assets/loading.gif" /></span>
  </h2>
  <p>
    <span>Score: {{ player.score }}</span>
    <ng-container *ngIf="state.hasDeclaredBid && player.number === 1">
      <span> | Bid: {{ state.bid.bid }} | </span>
      <span>Trump: {{ state.bid.trump }}</span>
    </ng-container>
  </p>
  <div class="hand">
    <div *ngFor="let domino of player.hand">
      <domino [primary]="domino.primary" [secondary]="domino.secondary" [selected]="isDominoSelected(domino)" (click)="clickDomino(domino)"></domino>
    </div>
  </div>
  <div class="toolbar" *ngIf="player.number === 1 && state.turn > 0">
    <button *ngIf="!state.hasDeclaredBid" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#bid">Declare Bid</button>
    <button *ngIf="state.hasDeclaredBid && player.selected.length" (click)="playDomino()" class="btn btn-outline-primary">Play</button>
  </div>
</div>
